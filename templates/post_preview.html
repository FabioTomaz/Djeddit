<div class="card border-secondary" id="post_n_{{ post.id }}"
        {% if request.user.profile in post.userHidden.all %} {% ifnotequal sidebar 'user_posts_hidden'  %} hidden  {% endifnotequal %}{% endif %}>
    <div class="card-body">
        <h5 class="card-title"><a href="{% url "post" topicName=post.topic.name postID=post.id %}">{{ post.title }}</a> </h5>
        <h6 class="card-subtitle mb-2 text-muted">Submitted by <a href="#">{{ post.userOP.username }}<a/>
            to topic <a href="{% url "topic"  topicName=post.topic.name %}"> {{ post.topic.name }} <a/> on {{ post.date }}</h6>
    </div>

    <div class="card-footer">
        <div class="btn-group" role="group" aria-label="Action Buttons">
            <button href="#" class="btn btn-sm btn-dark"><i class="far fa-comment"></i> {{ post.nComments }} Commments
            </button>
            <button class="btn btn-sm btn-primary" type="button" data-toggle="collapse" data-target="#coll{{ post.id }}"
                    aria-expanded="false" aria-controls="collapseExample">
                <i class="fas fa-share-alt"></i> Share
            </button>
            <button type="button" id="unsave_post_{{ post.id }}" onclick="unsave_post({{ post.id }})" class="btn btn-sm btn-warning" {% if not request.user.profile in post.userSaved.all %} hidden {% endif %}><i class="fas fa-ban"></i> Don't Save</button>
            <button type="button" id="save_post_{{ post.id }}" onclick="save_post({{ post.id }})" class="btn btn-sm btn-success" {% if request.user.profile in post.userSaved.all %} hidden {% endif %}><i class="far fa-save"></i> Save</button>
            <button type="button" id="hide_post_{{ post.id }}" onclick="hide_post({{ post.id }})" class="btn btn-sm btn-danger" {% if request.user.profile in post.userHidden.all %} hidden {% endif %}><i class="far fa-eye-slash"></i> Hide</button>
            <button type="button" id="show_post_{{ post.id }}" onclick="show_post({{ post.id }})" class="btn btn-sm btn-secondary" {% if not request.user.profile in post.userHidden.all %} hidden {% endif %}><i class="fas fa-eye"></i> Show</button>
        </div>
        <div class="collapse" id="coll{{ post.id }}">
            <iframe src="https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fwww.google.com&layout=button&size=large&mobile_iframe=true&width=100&height=28&appId"
                    width="100"
                    height="28"
                    style="border:none;overflow:hidden"
                    scrolling="no"
                    frameborder="0"
                    allowTransparency="true">
            </iframe>

            <iframe src="https://platform.twitter.com/widgets/tweet_button.html?size=l&url=https%3A%2F%2Fdev.twitter.com%2Fweb%2Ftweet-button&via=twitterdev&related=twitterapi%2Ctwitter&text=custom%20share%20text&hashtags=example%2Cdemo"
                    width="140"
                    height="28"
                    title="Twitter Tweet Button"
                    style="border: none; overflow: hidden;">
            </iframe>
        </div>
    </div>
</div>
<script>
    function save_post(post_id) {
        $.ajax(
            {
                type: "POST",
                url: "{% url 'post_save' 1 %}".replace("1", post_id),
                success: function (result) {
                    console.log(result);
                    $('#save_post_' + post_id).attr("hidden", true);
                    $('#unsave_post_' + post_id).attr("hidden", false);
                }
            });
    }

    function unsave_post(post_id) {
        $.ajax(
            {
                type: "POST",
                url: "{% url 'post_unsave' 1 %}".replace("1", post_id),
                success: function (result) {
                    console.log(result);
                    $('#save_post_' + post_id).attr("hidden", false);
                    $('#unsave_post_' + post_id).attr("hidden", true);
                }
            });
    }

    function hide_post(post_id) {
        $.ajax(
            {
                type: "POST",
                url: "{% url 'post_hide' 1 %}".replace("1", post_id),
                success: function (result) {
                    console.log(result);
                    $('#hide_post_' + post_id).attr("hidden", true);
                    $('#show_post_' + post_id).attr("hidden", false);
                    {% ifnotequal sidebar 'user_posts_hidden' %}
                        $('#post_n_'+post_id).attr("hidden", true);
                    {% endifnotequal %}
                }
            });
    }


    function show_post(post_id) {
        $.ajax(
            {
                type: "POST",
                url: "{% url 'post_show' 1 %}".replace("1", post_id),
                success: function (result) {
                    console.log(result);
                    $('#hide_post_' + post_id).attr("hidden", false);
                    $('#show_post_' + post_id).attr("hidden", true);
                }
            });
    }
</script>