<app-profile></app-profile>
<div class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
  <form method="post" #passwordForm="ngForm" (submit)="onChangePassword()">
    <div class="card">
      <div class="card-header bg-secondary text-white">
        <strong> Change Password </strong>
      </div>
      <div class="card-body">
        <table class="table table-user-information">
          <tbody>
          <tr>
            <td>Current Password:</td>
            <td>
              <input name="old_password" [(ngModel)]="oldPasswordString" type="password" class="form-control" required >
              <div class="validation-summary-errors">
              </div>
            </td>
          </tr>
          <tr>
            <td>New Password:</td>
            <td>
              <input name="password" type="password" [(ngModel)]="newPasswordString" class="form-control" required validateEqual="confirmPassword" reverse="true">
            </td>
          </tr>
          <tr>
            <td>Confirm New Password: </td>
            <td>
              <input name="confirmPassword" type="password" [(ngModel)]="confirmNewPasswordString" class="form-control" required validateEqual="password" #confirmPassword="ngModel">
              <p [hidden]="confirmPassword.valid || (confirmPassword.pristine && !passwordForm.submitted)" class="validation-summary-errors">
                Password mismatch
              </p>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="card-footer">
        <div class="float-right">
          <a routerLink="/user/{{ username }}/page" class="btn btn-danger"><i class="fas fa-ban"></i>
            Cancel</a>
          <button type="submit" class="btn btn-success" [disabled]="!passwordForm.form.valid"><i class="fas fa-check"></i> Save Password</button>
        </div>
      </div>
    </div>
  </form>
</div>
